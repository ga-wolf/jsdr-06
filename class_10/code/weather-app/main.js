let weatherData = {
  lat: -33.8651,
  lon: 151.2099,
  timezone: "Australia/Sydney",
  timezone_offset: 39600,
  current: {
    dt: 1637627926,
    sunrise: 1637606386,
    sunset: 1637657013,
    temp: 19.72,
    feels_like: 20.02,
    pressure: 1019,
    humidity: 87,
    dew_point: 17.5,
    uvi: 7.57,
    clouds: 75,
    visibility: 10000,
    wind_speed: 1.34,
    wind_deg: 164,
    wind_gust: 3.58,
    weather: [
      {
        id: 300,
        main: "Drizzle",
        description: "light intensity drizzle",
        icon: "09d",
      },
    ],
  },
  daily: [
    {
      dt: 1637629200,
      sunrise: 1637606386,
      sunset: 1637657013,
      moonrise: 1637669640,
      moonset: 1637615220,
      moon_phase: 0.61,
      temp: {
        day: 19.72,
        min: 17.43,
        max: 19.98,
        night: 17.65,
        eve: 19.69,
        morn: 17.58,
      },
      feels_like: { day: 20.02, night: 17.85, eve: 19.8, morn: 17.4 },
      pressure: 1019,
      humidity: 87,
      dew_point: 17.5,
      wind_speed: 5.05,
      wind_deg: 103,
      wind_gust: 7.4,
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10d" },
      ],
      clouds: 75,
      pop: 0.3,
      rain: 0.33,
      uvi: 8.05,
    },
    {
      dt: 1637715600,
      sunrise: 1637692764,
      sunset: 1637743470,
      moonrise: 1637758800,
      moonset: 1637704800,
      moon_phase: 0.64,
      temp: {
        day: 20.21,
        min: 16.93,
        max: 22.43,
        night: 20.07,
        eve: 21.34,
        morn: 17.05,
      },
      feels_like: { day: 20.51, night: 20.56, eve: 21.78, morn: 17.21 },
      pressure: 1016,
      humidity: 85,
      dew_point: 17.74,
      wind_speed: 5.98,
      wind_deg: 42,
      wind_gust: 10.67,
      weather: [
        { id: 501, main: "Rain", description: "moderate rain", icon: "10d" },
      ],
      clouds: 100,
      pop: 0.93,
      rain: 5.99,
      uvi: 7.36,
    },
    {
      dt: 1637802000,
      sunrise: 1637779143,
      sunset: 1637829926,
      moonrise: 0,
      moonset: 1637794620,
      moon_phase: 0.67,
      temp: {
        day: 23.69,
        min: 18.97,
        max: 24.48,
        night: 19.85,
        eve: 21.24,
        morn: 18.97,
      },
      feels_like: { day: 24.02, night: 20.4, eve: 21.74, morn: 19.43 },
      pressure: 1010,
      humidity: 73,
      dew_point: 18.42,
      wind_speed: 5.51,
      wind_deg: 33,
      wind_gust: 9.93,
      weather: [
        { id: 501, main: "Rain", description: "moderate rain", icon: "10d" },
      ],
      clouds: 100,
      pop: 1,
      rain: 8.51,
      uvi: 8.82,
    },
    {
      dt: 1637888400,
      sunrise: 1637865524,
      sunset: 1637916382,
      moonrise: 1637847600,
      moonset: 1637884560,
      moon_phase: 0.7,
      temp: {
        day: 21.23,
        min: 17.14,
        max: 21.23,
        night: 17.14,
        eve: 18.94,
        morn: 19.64,
      },
      feels_like: { day: 21.6, night: 17.13, eve: 18.93, morn: 20.11 },
      pressure: 1006,
      humidity: 84,
      dew_point: 18.33,
      wind_speed: 10.25,
      wind_deg: 190,
      wind_gust: 14.05,
      weather: [
        { id: 501, main: "Rain", description: "moderate rain", icon: "10d" },
      ],
      clouds: 100,
      pop: 1,
      rain: 12.22,
      uvi: 7.85,
    },
    {
      dt: 1637974800,
      sunrise: 1637951907,
      sunset: 1638002838,
      moonrise: 1637936220,
      moonset: 1637974620,
      moon_phase: 0.75,
      temp: {
        day: 17.93,
        min: 16.97,
        max: 18.58,
        night: 17.17,
        eve: 18.58,
        morn: 16.97,
      },
      feels_like: { day: 17.82, night: 16.93, eve: 18.32, morn: 16.89 },
      pressure: 1014,
      humidity: 78,
      dew_point: 14.06,
      wind_speed: 9.82,
      wind_deg: 190,
      wind_gust: 13.31,
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10d" },
      ],
      clouds: 98,
      pop: 0.41,
      rain: 2.24,
      uvi: 3.26,
    },
    {
      dt: 1638061200,
      sunrise: 1638038292,
      sunset: 1638089293,
      moonrise: 1638024540,
      moonset: 1638064740,
      moon_phase: 0.77,
      temp: {
        day: 17.22,
        min: 16.83,
        max: 18.96,
        night: 16.98,
        eve: 18.03,
        morn: 16.83,
      },
      feels_like: { day: 17.06, night: 16.85, eve: 17.79, morn: 16.71 },
      pressure: 1021,
      humidity: 79,
      dew_point: 13.61,
      wind_speed: 7.96,
      wind_deg: 162,
      wind_gust: 10.41,
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10d" },
      ],
      clouds: 100,
      pop: 0.85,
      rain: 2.87,
      uvi: 4,
    },
    {
      dt: 1638147600,
      sunrise: 1638124678,
      sunset: 1638175748,
      moonrise: 1638112740,
      moonset: 1638154860,
      moon_phase: 0.8,
      temp: {
        day: 18.28,
        min: 16.88,
        max: 18.34,
        night: 17.73,
        eve: 18.34,
        morn: 16.88,
      },
      feels_like: { day: 18.1, night: 17.75, eve: 18.24, morn: 16.71 },
      pressure: 1023,
      humidity: 74,
      dew_point: 13.75,
      wind_speed: 5.82,
      wind_deg: 160,
      wind_gust: 7.5,
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10d" },
      ],
      clouds: 100,
      pop: 0.36,
      rain: 0.96,
      uvi: 4,
    },
    {
      dt: 1638234000,
      sunrise: 1638211067,
      sunset: 1638262202,
      moonrise: 1638200940,
      moonset: 1638245160,
      moon_phase: 0.84,
      temp: {
        day: 18.82,
        min: 18,
        max: 20,
        night: 19.88,
        eve: 19.66,
        morn: 18.21,
      },
      feels_like: { day: 19.24, night: 20.4, eve: 20.21, morn: 18.44 },
      pressure: 1020,
      humidity: 95,
      dew_point: 18.12,
      wind_speed: 7.52,
      wind_deg: 109,
      wind_gust: 12.42,
      weather: [
        {
          id: 502,
          main: "Rain",
          description: "heavy intensity rain",
          icon: "10d",
        },
      ],
      clouds: 100,
      pop: 1,
      rain: 54.92,
      uvi: 4,
    },
  ],
};

function showCurrentTemperature() {
  let currentTempNode = document.querySelector(".current .temp");
  let currentTemp = weatherData.current.temp;
  currentTempNode.innerText = `Current Temperature: ${currentTemp} degrees`;

  let windNode = document.querySelector(".current .wind");
  let currentWind = weatherData.current.wind_speed;
  windNode.innerText = `Current Wind Speed: ${currentWind}`;

  let timeSinceEpoch = weatherData.current.sunrise * 1000;
  let date = new Date(timeSinceEpoch);
  let sunriseTime = date.toLocaleTimeString();
  let sunriseNode = document.querySelector(".current .sunrise");
  sunriseNode.innerText = `Sunrise: ${sunriseTime}am`;
}

showCurrentTemperature();

// Find the data we care about (daily)
let dailyData = weatherData.daily;

// <div>
//   <p>Minimum: _____</p>
//   <p>Maximum: _____</p>
//   <p>Chance of rain: ____</p>
// </div>

function translateDayIntoHTML(forecast) {
  let date = new Date(forecast.dt * 1000).toLocaleDateString();
  let min = forecast.temp.min;
  let max = forecast.temp.max;
  let rain = forecast.rain;
  return `
    <div>
      <h3>Date: ${date}</h3>
      <p>Minimum: ${min} degrees</p>
      <p>Maximum: ${max} degrees</p>
      <p>Chance of Rain: ${rain}%</p>
      <hr />
    </div>
  `;
}

// Turn each one of those "days" into some HTML
let weatherMarkup = dailyData.map(translateDayIntoHTML);

// Append it to the page
function addForecastToThePage(markup) {
  document.querySelector(".forecast").innerHTML += markup;
}

weatherMarkup.forEach(addForecastToThePage);
